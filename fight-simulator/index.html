<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Calculateur de Jets de D√©s</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <button id="menuToggle" class="menu-toggle">‚ò∞ Menu</button>
  <div class="sidebar">
    <div class="sidebar-header">
      <h3 id="statsTitle"></h3>
      <button type="button" class="close-sidebar" aria-label="Fermer le menu">√ó</button>
    </div>

    <div id="statsPerso">S√©lectionnez un personnage</div>
  </div>


  <!-- Overlay sombre derri√®re la sidebar -->
  <div class="overlay"></div>

  <div class="container">

    <!-- Onglets -->
    <div class="tabs">
      <button class="tab-button active" data-tab="perso">üé≤ </br>Personnages</button>
      <button class="tab-button" data-tab="ennemi">üëπ </br>Ennemis</button>
      <button class="tab-button" data-tab="chasse">üèπ </br>Chasse</button>
    </div>

    <!-- Onglet Personnages -->
    <div id="tab-perso" class="tab-content active">
      <div class="card">
        <h2>Attaque d'un personnage</h2>
        <label for="personnage">Personnage :</label>
        <select id="personnage">
          <option value="brakmar">Brakmar</option>
          <option value="draner">Dr√¢n√´r</option>
        </select>

        <label for="bonusContext">Bonus/Malus contextuel :</label>
        <input type="number" id="bonusContext" value="0" />

        <label for="arme">Arme / Test :</label>
        <select id="arme">
          <optgroup label="Armes de corps √† corps">
            <option value="1d10" data-type="cac">Marteau de guerre (1d10)</option>
            <option value="1d8-1" data-type="cac">Rapi√®re (1d8-1)</option>
            <option value="1d6" data-type="cac">√âp√©e courte (1d6)</option>
            <option value="1d8" data-type="cac">√âp√©e longue (1d8)</option>
          </optgroup>
          <optgroup label="Armes √† distance">
            <option value="1d6" data-type="distance">Arc court (1d6)</option>
            <option value="1d8" data-type="distance">Arc long (1d8)</option>
          </optgroup>
          <optgroup label="Tests">
            <option value="1d20" data-type="test" data-stat="for">Force</option>
            <option value="1d20" data-type="test" data-stat="agi">Agilit√©</option>
            <option value="1d20" data-type="test" data-stat="int">Intelligence</option>
            <option value="1d20" data-type="test" data-stat="end">Endurance</option>
            <option value="1d20" data-type="test" data-stat="cha">Charisme</option>
          </optgroup>
        </select>

        <label for="reduceDamage">R√©duction des d√©g√¢ts :</label>
        <input type="number" id="reduceDamage" value="0" min="0" max="10" />

        <label for="seuilToucher">Seuil de r√©ussite :</label>
        <input type="number" id="seuilToucher" value="10" min="1" max="20" />

        <button onclick="lancerDe()">Lancer le d√©</button>

        <div id="resultat"></div>
        <div id="resume"></div>
      </div>
    </div>

    <!-- Onglet Ennemis -->
    <div id="tab-ennemi" class="tab-content">
      <div class="card">
        <h2>Attaque d'un PNJ</h2>

        <label for="nomPNJ">Nom du PNJ :</label>
        <input type="text" id="nomPNJ" placeholder="ex : Barbare sanguinaire">

        <label for="attackTypePNJSelect">Type d'attaque :</label>
        <select id="attackTypePNJSelect">
          <option value="cac">Corps √† corps</option>
          <option value="distance">√Ä distance</option>
        </select>

        <div id="ctPNJContainer" style="display: none;">
          <label for="ctPNJ">Capacit√© de tir (CT) :</label>
          <input type="number" id="ctPNJ" min="0" max="10" value="3">
        </div>

        <label for="attaquePNJ">Nom de l'attaque :</label>
        <input type="text" id="attaquePNJ" placeholder="ex : √âp√©e rouill√©e">

        <label for="degatsPNJ">D√©g√¢ts (ex: 2d6+1) :</label>
        <input type="text" id="degatsPNJ" placeholder="2d6+1">

        <label for="damageTypePNJSelect">Type de d√©g√¢ts</label>
        <select id="damageTypePNJSelect">
          <option value="physique">Physique</option>
          <option value="magique">Magique</option>
        </select>

        <label for="ciblePNJ">Cible :</label>
        <select id="ciblePNJ">
          <option value="brakmar">Brakmar</option>
          <option value="draner">Dr√¢n√´r</option>
        </select>

        <button onclick="attaquePNJ()">Lancer l'attaque</button>

        <div id="resultatPNJ"></div>
      </div>
    </div>


  <!-- Onglet Chasse -->
  <div id="tab-chasse" class="tab-content">
    <div class="card">
    <h2>Chasse</h2>

    <select id="nomChasseur">
       <option value="brakmar">Brakmar</option>
       <option value="draner">Dr√¢n√´r</option>
    </select>

    <label for="pvActuels">PV actuels :</label>
    <input type="number" id="pvActuels" value="20" min="1"><br>


    <label>Zone :</label>
    <select id="zoneChasse">
        <option value="ville">Ville</option>
        <option value="foret">For√™t</option>
        <option value="marais">Marais</option>
        <option value="montagne">Montagne</option>
        <option value="plaine">Plaine</option>
    </select>

    <label>Dur√©e (heures) :</label>
    <input type="number" id="tempsChasse" value="5" min="1" max="12">

    <label>M√©thode :</label>
    <select id="methodeChasse">
        <option value="brutale">Brutale </option>
        <option value="discrete">Discr√®te</option>
    </select>

    <label for="prioriteChasse">Priorit√© :</label>
    <select id="prioriteChasse">
      <option value="aucune">Aucune</option>
      <option value="viande">Viande (+1 viande, -1 ressource)</option>
      <option value="ressource">Ressource (+1 ressource, -1 viande)</option>
      <option value="compagnon">Compagnon (tente apprivoisement si possible)</option>
    </select><br>

    <label>Bonus Pistage :</label>
    <input type="number" id="bonusPistage" value="0">

    <label>Bonus Chasse :</label>
    <input type="number" id="bonusChasse" value="0">

    <label>Bonus Loot :</label>
    <input type="number" id="bonusLoot" value="0">

    <button onclick="lancerChasse()">Lancer la chasse</button>

    <div id="resultatChasse" style="margin-top:20px; white-space:pre-line; border:1px solid #ccc; padding:10px;">
    R√©sultats de la chasse ici...
    </div>
  </div>  
</div>


    <!-- Historique partag√© -->
    <h3 id="historicTitle">Historique des lancers</h3>
    <div id="historique"></div>

  </div>
  <script src="script.js"></script>
</body>
</html>
